<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SouthVale RP Gang System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="html/style.css">
</head>
<body>
    <!-- Gang HUD element -->
    <div id="gang-hud" class="hidden">
        <div class="gang-name"></div>
        <div class="gang-rank"></div>
    </div>
    
    <!-- Gang Invite Notification -->
    <div id="gang-invite" class="hidden">
        <div class="invite-header">
            <i class="fas fa-users"></i> Gang Invitation
        </div>
        <div class="invite-content">
            <p>You have been invited to join <span id="gang-invite-name"></span> by <span id="gang-invite-from"></span>.</p>
            <div class="invite-buttons">
                <button id="accept-invite" class="btn btn-accept">Accept</button>
                <button id="decline-invite" class="btn btn-decline">Decline</button>
            </div>
        </div>
    </div>
    
    <!-- Main container for all panels -->
    <div id="main-container" class="hidden">
        <!-- Will be populated by other HTML files -->
    </div>
    
    <script src="html/script.js"></script>

    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    
    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    
    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    
    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    
    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    
    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    
    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    
    <script>
    // Demo functions to load data
    document.addEventListener('DOMContentLoaded', function() {
        // Set up demo data
        const MOCK_DATA = {
            "gangs": [
                {
                    "name": "ballas",
                    "label": "The Ballas",
                    "color": "#9b59b6",
                    "memberCount": 8,
                    "turfs": 3,
                    "points": 520,
                    "grades": [
                        {"name": "Boss", "level": 100},
                        {"name": "Underboss", "level": 90},
                        {"name": "Lieutenant", "level": 70},
                        {"name": "Soldier", "level": 50},
                        {"name": "Associate", "level": 10},
                        {"name": "Recruit", "level": 0}
                    ],
                    "members": [
                        {"citizenid": "ABC123", "name": "John Doe", "gradeName": "Boss", "gradeLevel": 100, "isOnline": true},
                        {"citizenid": "DEF456", "name": "Jane Smith", "gradeName": "Underboss", "gradeLevel": 90, "isOnline": true},
                        {"citizenid": "GHI789", "name": "Mike Johnson", "gradeName": "Lieutenant", "gradeLevel": 70, "isOnline": false},
                        {"citizenid": "JKL012", "name": "Sarah Williams", "gradeName": "Soldier", "gradeLevel": 50, "isOnline": false}
                    ]
                },
                {
                    "name": "vagos",
                    "label": "Los Vagos",
                    "color": "#f1c40f",
                    "memberCount": 6,
                    "turfs": 2,
                    "points": 350
                },
                {
                    "name": "families",
                    "label": "The Families",
                    "color": "#2ecc71",
                    "memberCount": 7,
                    "turfs": 2,
                    "points": 380
                },
                {
                    "name": "triads",
                    "label": "The Triads",
                    "color": "#e74c3c",
                    "memberCount": 5,
                    "turfs": 1,
                    "points": 220
                }
            ],
            "turfs": [
                {"id": 1, "name": "Downtown", "last_captured": "2025-04-20T10:30:00Z"},
                {"id": 2, "name": "Beach Area", "last_captured": "2025-04-19T14:45:00Z"},
                {"id": 3, "name": "Industrial Zone", "last_captured": "2025-04-21T08:15:00Z"}
            ],
            "leaderboard": [
                {"position": 1, "name": "ballas", "label": "The Ballas", "color": "#9b59b6", "points": 520, "turfs": 3, "members": 8},
                {"position": 2, "name": "families", "label": "The Families", "color": "#2ecc71", "points": 380, "turfs": 2, "members": 7},
                {"position": 3, "name": "vagos", "label": "Los Vagos", "color": "#f1c40f", "points": 350, "turfs": 2, "members": 6},
                {"position": 4, "name": "triads", "label": "The Triads", "color": "#e74c3c", "points": 220, "turfs": 1, "members": 5}
            ]
        };

        // Demo function to show gang HUD
        setTimeout(function() {
            const event = {
                data: {
                    action: 'updateGangHUD',
                    show: true,
                    gang: {
                        label: 'The Ballas',
                        rank: 'Boss', 
                        color: '#9b59b6'
                    }
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        }, 500);

        // Override the event listener to handle our custom events
        const originalEventListener = window.addEventListener;
        window.addEventListener = function(type, listener, options) {
            if (type === 'message') {
                document.addEventListener('message', function(e) {
                    listener(e.detail);
                }, options);
            } else {
                originalEventListener.call(window, type, listener, options);
            }
        };

        // Demo buttons to show different panels
        const demoDiv = document.createElement('div');
        demoDiv.style.position = 'fixed';
        demoDiv.style.bottom = '20px';
        demoDiv.style.left = '20px';
        demoDiv.style.zIndex = '1000';
        demoDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
        demoDiv.style.padding = '10px';
        demoDiv.style.borderRadius = '5px';
        demoDiv.innerHTML = `
            <h3 style="color:white;margin-top:0;">QBCore Gang System Demo</h3>
            <button id="show-admin" style="margin:5px;padding:5px 10px;">Show Admin Panel</button>
            <button id="show-gang" style="margin:5px;padding:5px 10px;">Show Gang Panel</button>
            <button id="show-leaderboard" style="margin:5px;padding:5px 10px;">Show Leaderboard</button>
            <button id="show-invite" style="margin:5px;padding:5px 10px;">Show Gang Invite</button>
        `;
        document.body.appendChild(demoDiv);

        // Add event listeners to demo buttons
        document.getElementById('show-admin').addEventListener('click', function() {
            loadPanel('gangadmin');
            // Set gangs data after panel is loaded
            setTimeout(function() {
                if (window.setGangsData) {
                    window.setGangsData(MOCK_DATA.gangs);
                }
            }, 100);
        });

        document.getElementById('show-gang').addEventListener('click', function() {
            loadPanel('gangpanel');
            // Set gang data after panel is loaded
            setTimeout(function() {
                if (window.setGangPanelData) {
                    window.setGangPanelData(MOCK_DATA.gangs[0]);
                }
                if (window.setGangTurfs) {
                    window.setGangTurfs(MOCK_DATA.turfs);
                }
            }, 100);
        });

        document.getElementById('show-leaderboard').addEventListener('click', function() {
            loadPanel('leaderboard');
            // Set leaderboard data after panel is loaded
            setTimeout(function() {
                if (window.setLeaderboardData) {
                    window.setLeaderboardData(MOCK_DATA.leaderboard);
                }
            }, 100);
        });

        document.getElementById('show-invite').addEventListener('click', function() {
            const event = {
                data: {
                    action: 'gangInvite',
                    gangName: 'The Ballas',
                    inviterName: 'John Doe'
                }
            };
            window.dispatchEvent(new CustomEvent('message', { detail: event }));
        });
    });
    </script>
    </body>
</html>
